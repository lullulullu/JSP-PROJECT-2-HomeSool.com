function kcpShowEdgeGuide(){var f="423";var d="600";var e="";var c="";var b=false;var a="";a+="<div id='edgeGuide' style='width:"+d+"px;height:"+f+"px;position:absolute; display:table; top:0; left:0; width:100%; height:100%;'>";a+="<div style='display:table-cell; text-align:center; vertical-align:middle;'>";a+="<div style='background:#fff;padding:30px;z-index:500;position:relative;width:540px;height:423px;'>";a+="<h1 style='font-size:25px;line-height:27px;font-weight:700;color:#000;padding:0px 0 20px;text-align:center'>IE Edge 환경 결제 안내</h1>";a+="<p>Win10 Edge 환경에서는 결제가 원활하지 않을 수 있습니다.</p>";a+="<div style='background:#f3f3f4;padding:18px 0;width:100%;font-size:15px;color:#1a1a1a;text-align:center;margin-top:15px;'>";a+="<span style='background:url(https://npay.kcp.co.kr/img/pop_sp.png) no-repeat;display:inline-block;width:15px;height:15px;vertical-align:middle;margin:-2px 0px 0 10px;'></span>";a+=" 호환성 설정 해제 후 결제를 진행 하실 수 있습니다.";a+="</div>";a+="<p style='padding:20px 0'>";a+="호환성 설정은 <a href='javascript:Edge_guide_Pop();' title='새창' style='text-decoration:underline;font-weight:500;' >이 곳</a>을 클릭하신 후,<br>";a+="개발자설정 > Microsoft 호환성 목록 사용 항목을 '체크해제'로<br>";a+="설정하시면 됩니다. 설정 후 이 창으로 돌아와<br>";a+="설정완료 버튼을 클릭하시면 결제를 진행할 수 있습니다.";a+="</p>";a+="<p style='color:#207bba'>※ 설정후에도 진행이 안 될 경우 창을 새로 여시기 바랍니다.</p>";a+="<form id='kcpEdgeGuideForm' name='kcpEdgeGuideForm'>";a+="<input type='hidden' id='res_cd' name='res_cd' value='3001'>";a+="<input type='hidden' id='res_msg' name='res_msg' value='사용자 취소'>";a+="<input type='hidden' id='ret_url' name='ret_url' value=''>";a+="</form>";a+="<div style='height:45px;text-align:center;margin-top:20px;position:absolute;left:0;right:0;bottom:30px;overflow:hidden;z-index:200;'>";a+="<button type='button' onclick='npayUtilCancelProc(document.kcpEdgeGuideForm);' style=':hidden;display:inline-block;color:#fff;font-size:15px;font-weight:700;text-align:center;border:none;background:#8f8f8f;width:158px;height:45px;line-height:45px;border-radius:3px;margin-right:5px;'>취소</button>";a+="<button type='button' style='overflow:hidden;display:inline-block;color:#fff;font-size:15px;font-weight:700;text-align:center;border:none;background:#3b3b3b;width:158px;height:45px;line-height:45px;border-radius:3px;' onclick='settingEdgeGuide();'>설정완료</button>";a+="</div>";a+="<a href='javascript:npayUtilCancelProc(document.kcpEdgeGuideForm);' style='position:absolute;top:17px;right:17px;cursor:pointer;width:18px;height:18px;'>";a+="<img src='https://npay.kcp.co.kr/img/btn_pop_close.png' alt='닫기' />";a+="</a>";a+="</div>";a+="</div>";a+="</div>";e=getTopNaxPay(f);c=getLeftNaxPay(d);KCP_JQUERY.blockUI({message:a,css:{top:e,left:c}});KCP_JQUERY("#NAX_BLOCK").css("width","600px")}function kcpShowEdgeEngGuide(){var f="423";var d="600";var e="";var c="";var b=false;var a="";a+="<div id='edgeGuide' style='width:"+d+"px;height:"+f+"px;position:absolute; display:table; top:0; left:0; width:100%; height:100%;'>";a+="<div style='display:table-cell; text-align:center; vertical-align:middle;'>";a+="<div style='background:#fff;padding:30px;z-index:500;position:relative;width:540px;height:423px;'>";a+="<h1 style='font-size:25px;line-height:27px;font-weight:700;color:#000;padding:0px 0 20px;text-align:center'>User Instruction for Edge browser payment</h1>";a+="<p>Payment may not work in Edge browser.</p>";a+="<div style='background:#f3f3f4;padding:18px 0;width:100%;font-size:15px;color:#1a1a1a;text-align:center;margin-top:15px;'>";a+="<span style='background:url(https://npay.kcp.co.kr/img/pop_sp.png) no-repeat;display:inline-block;width:15px;height:15px;vertical-align:middle;margin:-2px 0px 0 10px;'></span>";a+=" Payment is possible after compatibility view is disabled.";a+="</div>";a+="<p style='padding:20px 0'>";a+="To disable compatibility view, click <a href='javascript:Edge_guide_Pop();' title='new window' >HERE</a> to go to<br>";a+="developer settings and uncheck “Use Microsoft compatibility lists”.<br>";a+="After setting is done, you are able to proceed payment<br>";a+="by clicking “Setting complete”.";a+="</p>";a+="<p style='color:#207bba' >※ Open a new window if you cannot proceed even after the setting.</p>";a+="<form id='kcpEdgeGuideForm' name='kcpEdgeGuideForm'>";a+="<input type='hidden' id='res_cd' name='res_cd' value='3001'>";a+="<input type='hidden' id='res_msg' name='res_msg' value='사용자 취소'>";a+="<input type='hidden' id='ret_url' name='ret_url' value=''>";a+="</form>";a+="<div style='height:45px;text-align:center;margin-top:20px;position:absolute;left:0;right:0;bottom:30px;overflow:hidden;z-index:200;' >";a+="<button type='button' onclick='npayUtilCancelProc(document.kcpEdgeGuideForm);' style=':hidden;display:inline-block;color:#fff;font-size:15px;font-weight:700;text-align:center;border:none;background:#8f8f8f;width:158px;height:45px;line-height:45px;border-radius:3px;margin-right:5px;'>Cancel</button>";a+="<button type='button' style='overflow:hidden;display:inline-block;color:#fff;font-size:15px;font-weight:700;text-align:center;border:none;background:#3b3b3b;width:158px;height:45px;line-height:45px;border-radius:3px;' onclick='settingEdgeGuide();'>Setting Complete</button>";a+="</div>";a+="<a href='javascript:npayUtilCancelProc(document.kcpEdgeGuideForm);' style='position:absolute;top:17px;right:17px;cursor:pointer;width:18px;height:18px;'>";a+="<img src='https://npay.kcp.co.kr/img/btn_pop_close.png' alt='닫기' />";a+="</a>";a+="</div>";a+="</div>";a+="</div>";e=getTopNaxPay(f);c=getLeftNaxPay(d);KCP_JQUERY.blockUI({message:a,css:{top:e,left:c}});KCP_JQUERY("#NAX_BLOCK").css("width","600px")}var kcpEdgeCheck_popup_obj;function Edge_guide_Pop(){var a=window.open("about:flags","edge_guide_pop","top=0,left=0,height=500, width=500");if(a==null||typeof a=="undefined"){alert("팝업차단 설정을 확인 해주세요.")}}function settingEdgeGuide(){if(kcpEdgeCheck_popup_obj!=null&&typeof kcpEdgeCheck_popup_obj!="undefined"&&!kcpEdgeCheck_popup_obj.closed){kcpEdgeCheck_popup_obj.close()}try{removeEdgeGuide();if(typeof KCP_JQUERY("#NAX_BLOCK")!="undefined"){KCP_JQUERY("#NAX_BLOCK").remove()}var a=KCP_GetWebPaymentVer(PARENT_FORM);if(a=="SPAY"){if(KCP_NAX_POPUP_FLAG){Extract_SPayPopup(PARENT_FORM,KCP_PARENT_ENCTYPE)}else{Extrace_SPayService(PARENT_FORM,KCP_PARENT_ENCTYPE)}}else{if(KCP_NAX_POPUP_FLAG){ExtractNPayPopup(PARENT_FORM,KCP_PARENT_ENCTYPE)}else{ExtraceNPayService(PARENT_FORM,KCP_PARENT_ENCTYPE)}}}catch(b){if(KCP_NAX_POPUP_FLAG){ExtractNPayPopup(PARENT_FORM,KCP_PARENT_ENCTYPE)}else{ExtraceNPayService(PARENT_FORM,KCP_PARENT_ENCTYPE)}}}function removeEdgeGuide(){if(kcpEdgeCheck_popup_obj!=null&&typeof kcpEdgeCheck_popup_obj!="undefined"&&!kcpEdgeCheck_popup_obj.closed){kcpEdgeCheck_popup_obj.close()}KCP_JQUERY("#edgeGuide").remove();KCP_JQUERY.unblockUI()}function npayUtilCancelProc(c){var f="";var g="";var a="";var b="";try{removeEdgeGuide();if(typeof c.ret_url!="undefined"&&c.ret_url.value!=""&&c.ret_url.value!="null"){a=c.ret_url.value;b=getNpayUtilClientDomain(a)}if(typeof c=="undefined"||c==null){f="3001";g="사용자 취소"}else{if(typeof c.res_cd!="undefined"&&c.res_cd.value!=""&&c.res_cd.value!=null){f=c.res_cd.value;g=c.res_msg.value}else{f="3001";g="사용자 취소"}}}catch(d){f="3001";g="사용자 취소"}setTimeout(function(){try{if(chkAvailableNpayUtilPostMessage()){sendNpayUtilPostMessage(f,g,b,c,"cancel")}else{sendNpayUtilSubmitData(f,g,a,c)}}catch(h){if(chkAvailableNpayUtilPostMessage()){sendNpayUtilPostMessage(f,g,b,c,"cancel")}else{sendNpayUtilSubmitData(f,g,a,c)}}},500)}function getNpayUtilClientDomain(a){var c="";var f=0;var b="";try{if(a!=null&&a!=""&&a.length>0){if(a.indexOf("http://")>-1){b="http://";f=b.length}else{if(a.indexOf("https://")>-1){b="https://";f=b.length}else{f=0}}}if(f>0){c=a.substring(f,a.length);return b+c.substring(0,c.indexOf("/"))}else{return""}}catch(d){return""}}function sendNpayUtilSubmitData(c,d,a,b){b.target="_self";b.action=a;b.submit()}function sendNpayUtilPostMessage(f,g,b,a,d){var e="";var c=getNpayUtilJSonDataToFrom(a);var f="";var g="";if(a!=null&&typeof a!="undefined"&&a!=""){if(typeof a.res_cd!="undefined"){f=a.res_cd.value;g=a.res_msg.value}}if(window.opener==null){e="parent"}else{e="opener"}c=getNpayUtilJSonDataRes(f,g);if(e=="opener"){sendNpayUtilPostPopExecute(b,c,d)}else{if(e=="parent"){sendNpayUtilPostIfrExecute(b,c,d)}}}function chkAvailableNpayUtilPostMessage(){if(typeof window.postMessage=="undefined"){return false}else{return true}}function sendNpayUtilPostPopExecute(a,b,c){if(a!=""&&a!=null&&a!="undefined"){window.opener.kcpReceiveMsg(b,"")}else{window.opener.kcpReceiveMsg(b,a)}}function sendNpayUtilPostIfrExecute(a,b,c){if(a!=""&&a!=null&&a!="undefined"){window.parent.postMessage(b,a)}else{window.parent.postMessage(b,"*")}}function getNpayUtilJSonDataRes(b,c){var a='{"res_cd":"'+b+'","res_msg":"'+c+'"}';return a}function getNpayUtilJSonDataToFrom(a){var c="{";var b=0;try{$.each($(a).serializeArray(),function(e,f){if(f.value!=""){if(b++>0){c+=","}c+='"'+f.name+'":"'+encodeURI(f.value)+'"'}});c+="}";return c}catch(d){return""}};