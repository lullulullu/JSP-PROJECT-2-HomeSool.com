var console=window.console||{log:function(){}};var KCP_PAY_WIN="kcpPaypop.do";var KCP_PAYCO_USE="";var KCP_PAYCO_POP=null;var USE_LOCAL_STORAGE=false;var KCP_ORDER_BRW="";var KCP_PARENT_ENCTYPE="";var KCP_WEB_PAYMENT_FLAG="";var KCP_NPAY_Script_VERSION="";try{if(KCP_SPAY_DOMAIN==""||typeof KCP_SPAY_DOMAIN=="undefined"){if(KCP_NPAY_DOMAIN.indexOf("testnpay.kcp.co.kr")>-1){KCP_SPAY_DOMAIN="https://testspay.kcp.co.kr/"}else{KCP_SPAY_DOMAIN="https://spay.kcp.co.kr/"}}var pattern=/^[A-Z0-9]+$/;var n=32;var str="";if(!/^[0-9]+$/.test(n)){n=16}for(var i=0;i<n;i++){var rnd=Math.round(Math.random()*1000);if(!pattern.test(String.fromCharCode(rnd))){n=n+1}else{str+=String.fromCharCode(rnd)}}KCP_NPAY_Script_VERSION=str}catch(e){}document.write('<script type="text/javascript" src="'+KCP_NPAY_DOMAIN+"js/kcp_jquery-1.8.0.js?ver="+KCP_NPAY_Script_VERSION+'" charset="EUC-KR" ><\/script>');document.write('<script type="text/javascript" src="'+KCP_NPAY_DOMAIN+'js/kcp_jquery.blockUI.js" charset="EUC-KR" ><\/script>');document.write('<script type="text/javascript" src="'+KCP_NPAY_DOMAIN+"js/ClientDataHandler.js?ver="+KCP_NPAY_Script_VERSION+'" charset="EUC-KR" ><\/script>');document.write('<script type="text/javascript" src="'+KCP_NPAY_DOMAIN+"js/npayUtils.js?ver="+KCP_NPAY_Script_VERSION+'" charset="EUC-KR" ><\/script>');try{if(("localStorage" in window)&&window.localStorage!==null){isLocalStorage=true}}catch(e){}function getPaypopLoc(){var b=0;var a=checkUsrBrw();if(a=="ieEdge"||a=="ie10"||a=="ie9"||a=="ie8"||a=="ie7"||a=="ie6"){b=1}return b}function checkUsrBrw(){var a="";var c=navigator.userAgent.toLowerCase();if(c.indexOf("chrome")>-1&&c.indexOf("edge")<=-1){a="chrome"}else{if(c.indexOf("firefox")>-1&&c.indexOf("edge")<=-1){a="firefox"}else{if(c.indexOf("safari")>-1&&c.indexOf("edge")<=-1){a="safari"}else{if(c.indexOf("msie")>-1){a="ie";var b=kcpDetectIE();a=a+b}else{if(c.indexOf("trident")>-1){a="ie11"}else{if(c.indexOf("edge")>-1){a="ieEdge"}}}}}}KCP_ORDER_BRW=a;return a}function kcpDetectIE(){var h=-1;var f=navigator.userAgent.toLowerCase();var a=navigator.appName;if(f.indexOf("msie 7")>-1&&f.indexOf("trident")>-1){try{var c=document.body.style;var b=document.createElement("canvas");if(!b.getContext("webgl")){return 10}if(!("msTransition" in c)&&!("transition" in c)){return 9}if(!("getContext" in b)){return 8}return 11}catch(g){if(!("getContext" in b)){return 8}else{return 7}}}else{if(a=="Microsoft Internet Explorer"){var d=new RegExp("msie ([0-9]{1,}[.0-9]{0,})");if(d.exec(f)!=null){h=parseFloat(RegExp.$1)}}else{if(a=="Netscape"){h=11}}if(h==-1){return h}else{return h}}}function isIECompatibleMode(){var a=navigator.userAgent.toLowerCase();if(a.indexOf("msie 7")>-1&&a.indexOf("trident")>-1){return true}else{return false}}function getIEMetaContent(){var d=checkUsrBrw();var g=false;var f=document.getElementsByTagName("meta");if(d!="ie7"){for(var a=0;a<f.length;a++){if(f[a].getAttribute("http-equiv")=="X-UA-Compatible"&&f[a].getAttribute("content")=="IE=edge"){g=true;return true}}if(!g){try{var b=document.createElement("meta");b.setAttribute("http-equiv","X-UA-Compatible");b.setAttribute("content","IE=edge");document.getElementsByTagName("meta")[0].appendChild(b);return true}catch(c){return true}}}else{return true}}function kcpTx_install(){}var KCP_NAX_POPUP_FLAG=false;var NAX_PP_MASK="nax_pp_mask";var NAX_IFR_SRV="naxIfr";var NAX_IFR_POPUP="naxPop";var NAX_PP_POPUP="nax_ifr_id";var NAX_BLOCK=null;var PARENT_FORM;var PARENT_ACTION;function bgMask(){var d="100%";var b="100%";b=document.body.scrollWidth+"px";d=document.body.scrollHeight+"px";var c=document.createElement("div");c.id=NAX_PP_MASK;var a="display:block;position:absolute;background-color:#000;top:0px;left:0px;width:"+b+";height:"+d+";filter:alpha(opacity=10);opacity:0.3";c.setAttribute("style",a);document.body.appendChild(c);return c}function getTopNaxPay(a){var d=getPaypopLoc();var g=0;var f=KCP_JQUERY(window).height();var j=checkUsrBrw();if(f<=0){f=document.body.scrollHeight}if(d==0){g=Math.max(0,((f-a)/2)+KCP_JQUERY(window).scrollTop());if(g>a){var c=Math.max(document.body.clientHeight,window.innerHeight);var b=parseInt(c/a);var h=(b*a);g=(c-h)/2}if((g+a)>f){g=(f-a)/2}else{if((g*2+a)>=f){var c=Math.max(document.body.clientHeight,window.innerHeight);var b=parseInt(c/a);var h=(b*a);g=(c-h)/2}}}else{g=Math.max(0,((KCP_JQUERY(window).height()-a)/2));if(g>a){g=(g-a)/2}}if(j=="firefox"&&g<0){g=0}return g+"px"}function getLeftNaxPay(a){var b=getPaypopLoc();if(b==0){return(document.body.clientWidth/2)-a/2+"px"}else{return Math.max(0,((KCP_JQUERY(window).width()-a)/2))+"px"}}function authViewSelect(a){if(a=="P"){KCP_NAX_POPUP_FLAG=true}else{KCP_NAX_POPUP_FLAG=false}}function KCP_Pay_Execute_Web(c){var b=kcpDetectIE();var a="";PARENT_FORM=c;PARENT_ACTION=c.action;if(c.ordr_enc_type!=null||typeof c.ordr_enc_type!="undefined"){a=c.ordr_enc_type.value;KCP_PARENT_ENCTYPE=a}try{KCP_WEB_PAYMENT_FLAG=KCP_GetWebPaymentVer(c);if(KCP_WEB_PAYMENT_FLAG=="SPAY"){Open_SPayService(c,a)}else{OpenNPayService(c,a)}}catch(d){payFormAddData(c,d);Open_SPayService(c,a)}return false}function KCP_GetWebPaymentVer(d){var c=d.site_cd.value;var a=d.pay_method.value;var f=window.location.hostname;var b=d.card_cert_type;var g=KCP_CheckPayMethod(a,b,c);if(g=="SPAY"){return"SPAY"}else{return"NPAY"}}function KCP_CheckPayMethod(a,c,b){if(typeof c!="undefined"&&c.value!=""){if((a.toUpperCase()).indexOf("AUTH")>-1&&c.value=="BATCH"){if(b=="A7S8A"||b=="P0087"||b=="T0000"){return"NPAY"}else{return"SPAY"}}else{return"SPAY"}}else{return"SPAY"}}function OpenNPayService(f,b){var a=kcpDetectIE();var d=checkUsrBrw();var c="";try{c=f.pay_method.value}catch(g){}if(d.indexOf("ie")>-1){if(a<8&&c.indexOf("AUTH")<=-1){alert("IE7 브라우저는 서비스를 이용하실 수 없습니다.");return false}}if(d=="ieEdge"){if(typeof f.eng_flag=="undefined"||typeof f.eng_flag==null){kcpShowEdgeGuide()}else{if(f.eng_flag.value=="Y"){kcpShowEdgeEngGuide()}else{kcpShowEdgeGuide()}}return false}else{if(checkValidateMessage(f)){if(KCP_NAX_POPUP_FLAG){ExtractNPayPopup(f,b)}else{ExtraceNPayService(f,b)}}return false}}function ExtractNPayPopup(b,a){var f=633;var c=500;var j=getTopNaxPay(f);var d=getLeftNaxPay(c);var g=true;var l="";l=KCP_JQUERY("<iframe name='"+NAX_IFR_SRV+"' id='"+NAX_IFR_SRV+"'></iframe>").attr("width","0").attr("height","0").attr("frameborder","0").attr("scrolling","no").attr("marginwidth","0").attr("marginheight","0").attr("allowtransparency","true");KCP_JQUERY.blockUI({message:l,css:{backgroundcolor:"#FFFFFFF",border:"1px solid #080808",cursor:"default",top:j,left:d}});try{if(g){KCP_JQUERY("#NAX_BLOCK").css("display","none");if(makeFormEncodingEvent(b)){var k=document.KCP_Form_Hidden;if(checkUsrBrw()=="safari"){setTimeout(function(){k.action=KCP_NPAY_DOMAIN+KCP_PAY_WIN+"?encType="+a;k.method="POST";k.target=NAX_IFR_SRV;k.submit()},1500)}else{k.action=KCP_NPAY_DOMAIN+KCP_PAY_WIN+"?encType="+a;k.method="POST";k.target=NAX_IFR_SRV;k.submit()}KCP_JQUERY("#kcp_event_form").empty()}else{alert("결제창 호출 시 오류가 발생되었습니다.\n잠시 후 다시 시도해주세요.");return false}}else{alert("결제창 호출 시 오류가 발생되었습니다.\n잠시 후 다시 시도해주세요.");return false}}catch(h){}}function ExtraceNPayService(c,b){var s=true;var j=574;var f=768;var g=766;var k=572;var d=kcpDetectIE();var o=getTopNaxPay(j);var h=getLeftNaxPay(f);var r=checkUsrBrw();if((typeof c.ssgpay_direct!="undefined"&&c.ssgpay_direct.value=="Y")){if(checkUsrBrw().indexOf("ie")>-1){if(d<=8){alert("IE8 이하 브라우저는 SSG PAY 서비스를 이용하실 수 없습니다.");return false}}}if((typeof c.payco_direct!="undefined"&&c.payco_direct.value=="Y")||(typeof c.sspay_direct!="undefined"&&c.sspay_direct.value=="Y")||(typeof c.ssgpay_direct!="undefined"&&c.ssgpay_direct.value=="Y")||(typeof c.lpay_direct!="undefined"&&c.lpay_direct.value=="Y")||(typeof c.kakaopay_direct!="undefined"&&c.kakaopay_direct.value=="Y")){g=0;k=0;j=0;f=0}if((typeof c.payco_direct!="undefined"&&c.payco_direct.value=="Y")&&(typeof c.payco_ifr_yn!="undefined"&&c.payco_ifr_yn.value=="Y")){g=720;k=685;f=720;j=685}var q="";q=KCP_JQUERY("<iframe name='"+NAX_IFR_SRV+"' id='"+NAX_IFR_SRV+"'></iframe>").attr("width",g+"px").attr("height",k+"px").attr("frameborder","0").attr("scrolling","no").attr("marginwidth","0").attr("marginheight","0").attr("allowtransparency","true");try{KCP_JQUERY.blockUI({message:q,css:{top:o,left:h,centerX:true,centerY:true,width:f+"px",height:j+"px",backgroundcolor:"#FFFFFFF",border:"0px solid #080808",cursor:"default"},centerX:true,centerY:true})}catch(m){alert("결제창 호출 시 오류가 발생되었습니다.\n다시 시도해주세요.");s=false}if(s){if(makeFormEncodingEvent(c)){var p=document.KCP_Form_Hidden;if(checkUsrBrw()=="safari"){try{var l=navigator.userAgent.toLowerCase();var a=false;if(chkSafariVer(l)<14){a=true}if(!a){p.action=KCP_NPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()}else{setTimeout(function(){p.action=KCP_NPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()},1500)}}catch(m){setTimeout(function(){p.action=KCP_NPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()},1500)}}else{p.action=KCP_NPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()}if((typeof c.payco_direct!="undefined"&&c.payco_direct.value=="Y")&&(typeof c.payco_ifr_yn!="undefined"&&c.payco_ifr_yn.value=="Y")){$("#NAX_BLOCK").css("background-color","")}}else{alert("결제창 호출 시 오류가 발생되었습니다. \n다시 시도해 주세요.");KCP_JQUERY.unblockUI();return false}}else{return s}}function OpenPaycoService(f,c){var j;var b=kcpDetectIE();var a="kcpPayco.do";var d="KCP_PAYCO";if(checkUsrBrw().indexOf("ie")>-1){if(b<8){alert("IE7 브라우저는 서비스를 이용하실 수 없습니다.");return false}else{j=document.createElement("iframe")}}else{j=document.createElement("iframe")}j.name=d;j.id=d;j.frameborder=0;j.marginwidth=0;j.marginheight=0;j.scrolling="no";KCP_JQUERY.blockUI({message:j,css:{backgroundcolor:"#FFFFFFF",border:"1px solid #080808",cursor:"default"}});try{if(window.frames.KCP_PAYCO.name==""){window.frames.KCP_PAYCO.name=d}}catch(h){window.frames.KCP_PAYCO.name=d}KCP_JQUERY("#NAX_BLOCK").css("display","none");if(makeFormEncodingEvent(f)){var g=document.KCP_Form_Hidden;g.action=KCP_NPAY_DOMAIN+a+"?encType="+c;g.method="POST";g.target=d;g.submit();KCP_JQUERY("#kcp_event_form").empty()}else{alert("결제창 호출 시 오류가 발생되었습니다. \n다시 시도해 주세요.")}KCP_JQUERY("#kcp_event_form").empty()}function cancelNaxService(){KCP_JQUERY("#"+NAX_IFR_SRV).remove();KCP_JQUERY.unblockUI()}function checkValidateMessage(a){if(isIECompatibleMode()){return getIEMetaContent()}else{if(a==""||typeof a=="undefined"||a==null){alert("연동정보 누락으로 결제를 진행할 수 없습니다. \n가맹점에 문의해 주세요.");return false}else{if(typeof a.pp_ret_url=="undefined"||typeof a.pp_ret_url==null||a.pp_ret_url.value==""){if(chkAvailablePostMessage()){return true}else{alert("IE7 브라우저에서는 결제 서비스를 이용할 수 없습니다. \n다른 브라우저를 이용해 주십시오.");return false}}else{return true}}}}function cancelIfrPayplus(){KCP_JQUERY("#NAX_BLOCK").append('<form id="kcpPaycoCancelForm" name="kcpPaycoCancelForm" method="post"></form> ');KCP_JQUERY("#NAX_BLOCK").append('<iframe id="kcpPaycoCancelIframe" name="kcpPaycoCancelIframe" scrolling="no" style="margin: 0 auto; width: 0px; height: 0px; overflow: hidden; border: 0 none;"></iframe>');KCP_JQUERY("#kcpPaycoCancelForm").attr("target","kcpPaycoCancelIframe");KCP_JQUERY("#kcpPaycoCancelForm").attr("action",KCP_NPAY_DOMAIN+"userCancel.do");KCP_JQUERY("#kcpPaycoCancelForm").submit()}window.onresize=function(){var b=0;var a=0;if(KCP_WEB_PAYMENT_FLAG=="SPAY"){b=760;a=570;if(KCP_PAYCO_USE=="Y"){b=760;a=570}}else{b=768;a=574;if(KCP_PAYCO_USE=="Y"){b=768;a=574}}var d=getTopNaxPay(a);var c=getLeftNaxPay(b);KCP_JQUERY("#NAX_BLOCK").css("top",d);KCP_JQUERY("#NAX_BLOCK").css("left",c)};function Open_SPayService(f,b){var a=kcpDetectIE();var d=checkUsrBrw();var c="";try{c=f.pay_method.value}catch(g){}if(d.indexOf("ie")>-1){if(a<8&&c.indexOf("AUTH")<=-1){alert("IE7 브라우저는 서비스를 이용하실 수 없습니다.");return false}}if(d=="ieEdge"){if(typeof f.eng_flag=="undefined"||typeof f.eng_flag==null){kcpShowEdgeGuide()}else{if(f.eng_flag.value=="Y"){kcpShowEdgeEngGuide()}else{kcpShowEdgeGuide()}}return false}else{if(checkValidateMessage(f)){if(KCP_NAX_POPUP_FLAG){Extract_SPayPopup(f,b)}else{Extrace_SPayService(f,b)}}return false}}function Extract_SPayPopup(c,b){var g=570;var d=760;var l=getTopNaxPay(g);var f=getLeftNaxPay(d);var h=true;var o="";o=KCP_JQUERY("<iframe name='"+NAX_IFR_SRV+"' id='"+NAX_IFR_SRV+"'></iframe>").attr("width","0").attr("height","0").attr("frameborder","0").attr("scrolling","no").attr("marginwidth","0").attr("marginheight","0").attr("allowtransparency","true");KCP_JQUERY.blockUI({message:o,css:{backgroundcolor:"#FFFFFFF",border:"1px solid #080808",cursor:"default",top:l,left:f}});try{if(h){KCP_JQUERY("#NAX_BLOCK").css("display","none");if(makeFormEncodingEvent(c)){var m=document.KCP_Form_Hidden;if(checkUsrBrw()=="safari"){try{var j=navigator.userAgent.toLowerCase();var a=false;if(chkSafariVer(j)<14){a=true}if(!a){m.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;m.method="POST";m.target=NAX_IFR_SRV;m.submit();KCP_JQUERY("#kcp_event_form").empty()}else{setTimeout(function(){m.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;m.method="POST";m.target=NAX_IFR_SRV;m.submit();KCP_JQUERY("#kcp_event_form").empty()},1500)}}catch(k){setTimeout(function(){m.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;m.method="POST";m.target=NAX_IFR_SRV;m.submit();KCP_JQUERY("#kcp_event_form").empty()},1500)}}else{m.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;m.method="POST";m.target=NAX_IFR_SRV;m.submit();KCP_JQUERY("#kcp_event_form").empty()}}else{alert("결제창 호출 시 오류가 발생되었습니다.\n잠시 후 다시 시도해주세요.");return false}}else{alert("결제창 호출 시 오류가 발생되었습니다.\n잠시 후 다시 시도해주세요.");return false}}catch(k){}}function Extrace_SPayService(c,b){var s=true;var j=570;var f=760;var k=570;var g=760;var d=kcpDetectIE();var o=getTopNaxPay(j);var h=getLeftNaxPay(f);var r=checkUsrBrw();if((typeof c.payco_direct!="undefined"&&c.payco_direct.value=="Y")||(typeof c.sspay_direct!="undefined"&&c.sspay_direct.value=="Y")||(typeof c.ssgpay_direct!="undefined"&&c.ssgpay_direct.value=="Y")||(typeof c.lpay_direct!="undefined"&&c.lpay_direct.value=="Y")||(typeof c.kakaopay_direct!="undefined"&&c.kakaopay_direct.value=="Y")||(typeof c.naverpay_direct!="undefined"&&c.naverpay_direct.value=="Y")||(typeof c.bankpay_direct!="undefined"&&c.bankpay_direct.value=="Y")){g=0;k=0;j=0;f=0}var q="";q=KCP_JQUERY("<iframe name='"+NAX_IFR_SRV+"' id='"+NAX_IFR_SRV+"'></iframe>").attr("width",g+"px").attr("height",k+"px").attr("frameborder","0").attr("scrolling","no").attr("marginwidth","0").attr("marginheight","0").attr("allowtransparency","true");try{KCP_JQUERY.blockUI({message:q,css:{top:o,left:h,centerX:true,centerY:true,width:f+"px",height:j+"px",backgroundcolor:"#FFFFFFF",border:"0px solid #080808",cursor:"default"},centerX:true,centerY:true})}catch(m){alert("결제창 호출 시 오류가 발생되었습니다.\n다시 시도해주세요.");s=false}if(s){if(makeFormEncodingEvent(c)){var p=document.KCP_Form_Hidden;if(checkUsrBrw()=="safari"){try{var l=navigator.userAgent.toLowerCase();var a=false;if(chkSafariVer(l)<14){a=true}if(!a){p.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()}else{setTimeout(function(){p.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()},1500)}}catch(m){setTimeout(function(){p.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()},1500)}}else{p.action=KCP_SPAY_DOMAIN+KCP_PAY_WIN+"?encType="+b;p.method="POST";p.target=NAX_IFR_SRV;p.submit();KCP_JQUERY("#kcp_event_form").empty()}}else{alert("결제창 호출 시 오류가 발생되었습니다. \n다시 시도해 주세요.");KCP_JQUERY.unblockUI();return false}}else{return s}}function showSPayWindow(){var b=760;var a=570;var d=getTopNaxPay(a);var c=getLeftNaxPay(b);KCP_JQUERY("#NAX_BLOCK").css("top",d);KCP_JQUERY("#NAX_BLOCK").css("left",c)}function payFormAddData(c,b){try{var a=document.createElement("input");a.setAttribute("type","hidden");a.setAttribute("name","KcpSpayErrMsg");a.setAttribute("value",b);c.appendChild(a)}catch(d){}}function chkSafariVer(c){var b=-1;var a=new RegExp("version/([0-9]{1,}[.0-9]{0,})");if(a.exec(c)!=null){b=parseFloat(RegExp.$1)}return b};