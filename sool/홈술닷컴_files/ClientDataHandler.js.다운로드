document.write('<script type="text/javascript" src="'+KCP_NPAY_DOMAIN+'js/json2.js" charset="EUC-KR" ><\/script>');document.write("<div id='kcp_event_form'></div>");var SUCC_CD="0000";try{if(KCP_SPAY_DOMAIN==""||typeof KCP_SPAY_DOMAIN=="undefined"){if(KCP_NPAY_DOMAIN.indexOf("testnpay.kcp.co.kr")>-1){KCP_SPAY_DOMAIN="https://testspay.kcp.co.kr"}else{KCP_SPAY_DOMAIN="https://spay.kcp.co.kr"}}}catch(e){KCP_SPAY_DOMAIN="https://spay.kcp.co.kr"}function chkAvailablePostMessage(){if(typeof window.postMessage=="undefined"){return false}else{return true}}if(typeof window.addEventListener!="undefined"){window.addEventListener("message",receiveMessage,false)}else{if(typeof window.attachEvent!="undefined"){window.attachEvent("onmessage",receiveMessage)}}function receiveMessage(c){var d="9991";var b=KCP_JQUERY("<form name='KCP_Auth_Hidden'></form>");if(c.origin+"/"==KCP_NPAY_DOMAIN||c.origin+"/"==KCP_SPAY_DOMAIN){if(c.data!=null&&c.data!=""&&c.data!="undefined"){if(c.data=="kcpPaycoD"){kcpHidePaycoIFrame();return false}else{if(c.data=="kcpShowPayment"){kcpShowPaymentIFrame();return false}else{if(c.data=="kcpDirectPayment"){kcpHidePaymentIFrame();return false}else{var a=KCP_JQUERY.parseJSON(c.data);if(a.kcpAlert!="undefined"&&a.kcpAlert!=null&&a.kcpAlert!=""){alert(a.kcpAlert);return false}KCP_JQUERY.each(a,function(f,g){b.append(KCP_JQUERY("<input name='"+f+"' value='"+decodeURI(g)+"' type='hidden'>"))})}}}}else{d="9991";res_msg="ReceiveMessage data is Empty";b.append(KCP_JQUERY("<input name='res_cd' 	value='"+d+"' 	type='hidden'>"));b.append(KCP_JQUERY("<input name='res_msg' 	value='"+res_msg+"' 	type='hidden'>"))}KCP_JQUERY("#kcp_event_form").empty();KCP_JQUERY("#kcp_event_form").append(b);Completepayment(document.KCP_Auth_Hidden)}else{d="9992";res_msg="KCP DOMAIN이 아닙니다.";b.append(KCP_JQUERY("<input name='res_cd' 	value='"+d+"' 	type='hidden'>"));b.append(KCP_JQUERY("<input name='res_msg' 	value='"+res_msg+"' type='hidden'>"));KCP_JQUERY("#kcp_event_form").empty();KCP_JQUERY("#kcp_event_form").append(b)}}function Completepayment(a){GetField=GetField_NPAY;if(typeof(m_Completepayment)=="function"){m_Completepayment(a,closeEvent)}else{if(typeof PARENT_FORM!="undefined"){PARENT_FORM.target="_self";GetField_NPAY(PARENT_FORM,a);var b=a.res_cd.value;if(b=="0000"){PARENT_FORM.submit();closeEvent()}else{closeEvent()}}}}function makeFormEncodingEvent(b){try{var c=document.location.origin;var g=checkUsrBrw();var a=navigator.userAgent.toLowerCase();var f=KCP_JQUERY("<form name='KCP_Form_Hidden'></form>");KCP_JQUERY.each(KCP_JQUERY(b).serializeArray(),function(h,j){if(j.value!=""){f.append('<input name="'+j.name+'" value="'+encodeURIComponent(j.value)+"\" type='hidden'>")}});f.append('<input name="kcp_order_domain" value="'+encodeURIComponent(c)+"\" type='hidden'>");f.append('<input name="kcp_order_brw" value="'+encodeURIComponent(g)+"\" type='hidden'>");f.append('<input name="kcp_order_usrAgent" value="'+encodeURIComponent(a)+"\" type='hidden'>");if(KCP_NAX_POPUP_FLAG){f.append('<input name="kcp_nax_popup" value="P" type=\'hidden\'>')}KCP_JQUERY("#kcp_event_form").empty();KCP_JQUERY("#kcp_event_form").append(f)}catch(d){return false}return true}function GetField(c,a){}function GetField_NPAY(m_frm,b){var res_cd="";var res_msg="";var nField=m_frm.elements.length;for(var idx=0;idx<nField;idx++){try{if(!!(eval("b."+m_frm.elements[idx].name))==true){if((eval("b."+m_frm.elements[idx].name)).value!=""){m_frm.elements[idx].value=(eval("b."+m_frm.elements[idx].name)).value}}}catch(e){}}var chkBrw=checkUsrBrw();if((chkBrw=="ie8"||chkBrw=="ie9"||chkBrw=="ie10")){KCP_JQUERY("#kcp_event_form").empty()}return true}function closeEvent(){if(KCP_ORDER_BRW=="firefox"&&PARENT_FORM.res_cd.value=="3017"){return false}else{if(KCP_JQUERY("#"+NAX_IFR_SRV)!="undefined"){KCP_JQUERY("#"+NAX_IFR_SRV).remove()}KCP_JQUERY.unblockUI()}}function checkUsableJSON(){var a=navigator.userAgent.toLowerCase();if(checkUsrBrw().indexOf("ie")>-1){if(detectIE(a)<10){return true}else{return false}}else{return false}}function closePayplusPopup(){if(KCP_JQUERY("#"+NAX_IFR_SRV)!="undefined"){KCP_JQUERY("#"+NAX_IFR_SRV).remove()}KCP_JQUERY.unblockUI();PARENT_FORM.action=PARENT_ACTION}KCP_JQUERY(window).click(function(){try{checkPopupAlive()}catch(a){}});function checkPopupAlive(){if(chkAvailablePostMessage()){var b="";var d="";var a=document.location;if(NAX_IFR_POPUP!=null||typeof NAX_IFR_POPUP!="undefined"){b=document.getElementById(NAX_IFR_POPUP)}if(b!=null&&typeof b!="undefined"){if(b.contentWindow){d=b.contentWindow}else{if(b.contentDocument){d=b.contentDocument}}var f=new Object();f.clientDN=window.location.hostname;try{d.postMessage(JSON.parse(JSON.stringify(f)),KCP_NPAY_DOMAIN)}catch(c){}}}else{alert("서비스 이용이 불가능한 브라우저 입니다.")}}function kcpHidePaycoIFrame(){KCP_JQUERY("#NAX_BLOCK").css("width","0px");KCP_JQUERY("#NAX_BLOCK").css("height","0px");KCP_JQUERY("#"+NAX_IFR_SRV).attr("width","0px");KCP_JQUERY("#"+NAX_IFR_SRV).attr("height","0px");KCP_JQUERY("#"+NAX_IFR_SRV).css("border","0px")}function kcpHidePaymentIFrame(){KCP_JQUERY("#NAX_BLOCK").css("width","0px");KCP_JQUERY("#NAX_BLOCK").css("height","0px");KCP_JQUERY("#"+NAX_IFR_SRV).attr("width","0px");KCP_JQUERY("#"+NAX_IFR_SRV).attr("height","0px");KCP_JQUERY("#"+NAX_IFR_SRV).css("border","0px")}function kcpShowPaymentIFrame(){KCP_JQUERY("#NAX_BLOCK").css("width","760px");KCP_JQUERY("#NAX_BLOCK").css("height","570px");KCP_JQUERY("#"+NAX_IFR_SRV).attr("width","760px");KCP_JQUERY("#"+NAX_IFR_SRV).attr("height","570px");KCP_JQUERY("#"+NAX_IFR_SRV).css("border","none")}KCP_JQUERY(window).unload(function(){try{if(KCP_PAYCO_POP!=null){KCP_PAYCO_POP.close();closePayplusPopup()}else{if(KCP_NAX_POP!=null){KCP_NAX_POP.close();closePayplusPopup()}}}catch(a){}});var KCP_Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c){var a="";var l,j,g,k,h,f,d;var b=0;c=KCP_Base64._utf8_encode(c);while(b<c.length){l=c.charCodeAt(b++);j=c.charCodeAt(b++);g=c.charCodeAt(b++);k=l>>2;h=((l&3)<<4)|(j>>4);f=((j&15)<<2)|(g>>6);d=g&63;if(isNaN(j)){f=d=64}else{if(isNaN(g)){d=64}}a=a+this._keyStr.charAt(k)+this._keyStr.charAt(h)+this._keyStr.charAt(f)+this._keyStr.charAt(d)}return a},decode:function(c){var a="";var l,j,g;var k,h,f,d;var b=0;c=c.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(b<c.length){k=this._keyStr.indexOf(c.charAt(b++));h=this._keyStr.indexOf(c.charAt(b++));f=this._keyStr.indexOf(c.charAt(b++));d=this._keyStr.indexOf(c.charAt(b++));l=(k<<2)|(h>>4);j=((h&15)<<4)|(f>>2);g=((f&3)<<6)|d;a=a+String.fromCharCode(l);if(f!=64){a=a+String.fromCharCode(j)}if(d!=64){a=a+String.fromCharCode(g)}}a=KCP_Base64._utf8_decode(a);return a},_utf8_encode:function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var f=0;f<b.length;f++){var d=b.charCodeAt(f);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a},_utf8_decode:function(a){var b="";var d=0;var f=c1=c2=0;while(d<a.length){f=a.charCodeAt(d);if(f<128){b+=String.fromCharCode(f);d++}else{if((f>191)&&(f<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((f&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((f&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b}};